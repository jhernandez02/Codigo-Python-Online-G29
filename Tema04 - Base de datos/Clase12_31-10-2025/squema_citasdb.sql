CREATE TABLE doctores (
  id SERIAL PRIMARY KEY,
  nombre VARCHAR(150),
  especialidad VARCHAR(150),
  fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE pacientes (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  nombre VARCHAR(150),
  correo VARCHAR(150),
  telefono VARCHAR(20),
  fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE TABLE citas (
  id SERIAL PRIMARY KEY,
  doctor_id INTEGER NOT NULL,
  paciente_id INTEGER NOT NULL,
  fecha_cita TIMESTAMP,
  estado CHAR(1) DEFAULT 'P',
  fecha_registro TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

ALTER TABLE "citas" ADD FOREIGN KEY ("doctor_id") REFERENCES "doctores" ("id") ON DELETE NO ACTION;
ALTER TABLE "citas" ADD FOREIGN KEY ("paciente_id") REFERENCES "pacientes" ("id") ON DELETE NO ACTION;